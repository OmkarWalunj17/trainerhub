<div class="signup-container">
  <div class="bg-shape shape-1"></div>
  <div class="bg-shape shape-2"></div>
  <div class="bg-grid"></div>
 
  <div class="signup-card wide-card">
    <div class="card-header">
      <div class="logo-icon">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
          <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" />
          <circle cx="9" cy="7" r="4" />
          <path d="M22 21v-2a4 4 0 0 0-3-3.87" />
          <path d="M16 3.13a4 4 0 0 1 0 7.75" />
        </svg>
      </div>
      <h2 class="title">{{ updateId > 0 ? 'Update Trainer' : 'Add New Trainer' }}</h2>
      <p class="subtitle">Enter the trainer's professional details below.</p>
    </div>
 
    <form [formGroup]="addTrainerForm" (ngSubmit)="addTrainer()" class="signup-form">
 
      <div class="form-grid">
        <div class="form-group">
          <label for="name">Full Name*</label>
          <div class="input-wrapper" [class.error]="name.touched && name.invalid">
            <span class="input-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
                <circle cx="12" cy="7" r="4" />
              </svg>
            </span>
            <input id="name" type="text" formControlName="name" placeholder="John Doe">
          </div>
          <span *ngIf="name.touched && name.errors?.['required']" class="error-msg">Name is required</span>
        </div>
 
        <div class="form-group">
          <label for="email">Email Address*</label>
          <div class="input-wrapper" [class.error]="email.touched && email.invalid">
            <span class="input-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" />
                <polyline points="22,6 12,13 2,6" />
              </svg>
            </span>
            <input id="email" type="text" formControlName="email" placeholder="trainer@example.com">
          </div>
          <span *ngIf="email.touched && email.errors?.['required']" class="error-msg">Email is required</span>
          <span *ngIf="email.touched && email.errors?.['pattern']" class="error-msg">Enter a valid email ending with .com</span>
        </div>
 
        <div class="form-group">
          <label for="phone">Phone Number*</label>
          <div class="input-wrapper" [class.error]="phone.touched && phone.invalid">
            <span class="input-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z" />
              </svg>
            </span>
            <input id="phone" type="text" formControlName="phone" placeholder="9876543210">
          </div>
          <span *ngIf="phone.touched && phone.errors?.['required']" class="error-msg">Mobile number is required</span>
          <span *ngIf="phone.touched && (phone.errors?.['minlength'] || phone.errors?.['maxlength'])" class="error-msg">Mobile number must be 10 digits</span>
        </div>
 
        <div class="form-group">
          <label for="expertise">Expertise (e.g., Java)*</label>
          <div class="input-wrapper" [class.error]="expertise.touched && expertise.invalid">
            <span class="input-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" />
              </svg>
            </span>
            <input id="expertise" type="text" formControlName="expertise" placeholder="Tech Stack">
          </div>
          <span *ngIf="expertise.touched && expertise.errors?.['required']" class="error-msg">Expertise is required</span>
        </div>
 
        <div class="form-group">
          <label for="experience">Experience (Years)*</label>
          <div class="input-wrapper" [class.error]="experience.touched && experience.invalid">
            <span class="input-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect x="2" y="7" width="20" height="14" rx="2" ry="2" />
                <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16" />
              </svg>
            </span>
            <input id="experience" type="text" formControlName="experience" placeholder="e.g. 5 Years">
          </div>
          <span *ngIf="experience.touched && experience.errors?.['required']" class="error-msg">Experience is required</span>
        </div>
 
        <div class="form-group">
          <label for="certification">Certification*</label>
          <div class="input-wrapper" [class.error]="certification.touched && certification.invalid">
            <span class="input-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="12" cy="8" r="7" />
                <polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88" />
              </svg>
            </span>
            <input id="certification" type="text" formControlName="certification" placeholder="Certified Developer">
          </div>
          <span *ngIf="certification.touched && certification.errors?.['required']" class="error-msg">Certification is required</span>
        </div>
 
        <!-- ✅ NEW EXPECTED SALARY INPUT -->
        <div class="form-group">
          <label for="expectedSalary">Expected Salary (₹)*</label>
          <div class="input-wrapper" [class.error]="expectedSalary.touched && expectedSalary.invalid">
            <span class="input-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <line x1="12" y1="1" x2="12" y2="23"></line>
                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
              </svg>
            </span>
            <input id="expectedSalary" type="number" formControlName="expectedSalary" placeholder="e.g. 50000">
          </div>
          <span *ngIf="expectedSalary.touched && expectedSalary.errors?.['required']" class="error-msg">Expected Salary is required</span>
        </div>
 
        <div class="form-group">
          <label for="joiningDate">Joining Date*</label>
          <div class="input-wrapper" [class.error]="joiningDate.touched && joiningDate.invalid">
            <span class="input-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2" />
                <line x1="16" y1="2" x2="16" y2="6" />
                <line x1="8" y1="2" x2="8" y2="6" />
                <line x1="3" y1="10" x2="21" y2="10" />
              </svg>
            </span>
            <input id="joiningDate" type="date" formControlName="joiningDate">
          </div>
          <span *ngIf="joiningDate.touched && joiningDate.errors?.['required']" class="error-msg">Joining Date is required</span>
        </div>
       
        <div class="form-group">
          <label for="resume">Resume (PDF/Image)*</label>
          <div class="input-wrapper file-input-wrapper" [class.error]="resume.touched && resume.errors?.['required']">
            <span class="input-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                <polyline points="14 2 14 8 20 8" />
                <line x1="12" y1="18" x2="12" y2="12" />
                <line x1="9" y1="15" x2="15" y2="15" />
              </svg>
            </span>
            <input id="resume" type="file" #resumeInput (change)="onFileSelect($event)" class="file-input">
          </div>
          <div class="file-status" *ngIf="base64">
            <span class="success-dot"></span> File Selected
          </div>
          <span *ngIf="resume.touched && resume.errors?.['required']" class="error-msg">Resume file is required</span>
        </div>
 
      </div>
 
      <button type="submit" class="btn-submit" [disabled]="addTrainerForm.invalid || isLoading">
        {{ updateId > 0 ? 'Save Changes' : 'Add Trainer' }}
      </button>
 
    </form>
  </div>
 
  <div class="loader-overlay" *ngIf="isLoading">
    <div class="loader-box">
      <app-postman-loader [isLoading]="isLoading"></app-postman-loader>
    </div>
  </div>
</div>
 
<app-success-modal [isVisible]="showSuccessModal" [message]="successMessage" (onClose)="onSuccessClose()"></app-success-modal>
<app-failure-modal [isVisible]="showFailureModal" [message]="failureMessage" [buttonText]="'Okay'" (onClose)="onFailureClose()"></app-failure-modal>